````markdown
# Day 3: Fetching Data using HQL (Hibernate Query Language)

## üìù Overview

In Day 3, I moved from inserting data to **retrieving data** from the database. I also learned about important configuration settings for debugging and schema safety, and how to optimize console printing using the `toString()` method.

---

## ‚öôÔ∏è Step 1: Configuration Updates (`hibernate.cfg.xml`)

Before writing the fetching logic, I updated the configuration file to prevent data loss and enable debugging.

1.  **`hbm2ddl.auto`**: Changed to `"none"`.
    - _Reason:_ We don't want Hibernate to create or update the table structure every time we run the app. We just want to use the existing data.
2.  **`show_sql`**: Set to `"true"`.
    - _Reason:_ To see the actual SQL queries generated by Hibernate in the console.

```xml
<property name="hbm2ddl.auto">none</property>
<property name="show_sql">true</property>
```
````

---

## üöÄ Step 2: Optimizing the Entity Class

To make printing objects easier, I overrode the `toString()` method in the **Student** entity class. This allows us to print the object directly without manually concatenating strings.

**File:** `Student.java`

```java
@Override
public String toString() {
    return "Student [id=" + id + ", name=" + name + ", marks=" + marks + "]";
}

```

---

## üíª Step 3: Fetching Data (App.java)

I used HQL (Hibernate Query Language) to select data. Unlike SQL, HQL operates on **Classes and Objects**, not Tables and Columns.

**The Logic:**

1. Create a Session.
2. Use `createQuery` to select all students (`FROM Student`).
3. Store the result in a `List`.
4. Iterate using a `for-each` loop.

**File:** `App.java`

```java
package com.learning.hibernate;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;
import java.util.List;

public class App {
    public static void main(String[] args) {

        // 1. Configure and Open Session
        Configuration cfg = new Configuration();
        cfg.configure("hibernate.cfg.xml");
        SessionFactory factory = cfg.buildSessionFactory();
        Session session = factory.openSession();

        // 2. Fetching Data using HQL
        // "Student" here is the Class Name, not the Table Name
        List<Student> list = session.createQuery("FROM Student", Student.class).getResultList();

        // 3. Displaying Data
        for(Student s : list) {
            // Because we overrode toString(), we can print 's' directly
            System.out.println(s);
        }

        session.close();
        factory.close();
    }
}

```

---

## üìä Output

When running the application, Hibernate generates the following SQL (visible due to `show_sql=true`) and prints the data:

```text
Hibernate: select student0_.id as id1_0_, student0_.marks as marks2_0_, student0_.name as name3_0_ from Student student0_
Student [id=1, name=Rakesh, marks=79]
Student [id=2, name=Amit, marks=85]
...

```

---

## ‚úÖ Key Takeaways

- **HQL:** Allows writing database-independent queries.
- **`hbm2ddl.auto="none"`:** Essential for production-like environments where schema shouldn't change automatically.
- **`toString()` Override:** drastic improvement in code readability for logging/printing.

```

```

